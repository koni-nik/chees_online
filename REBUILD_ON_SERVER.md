# Инструкция по пересборке Docker образа на сервере

## Проблема
Модуль `pytz` отсутствует в Docker контейнере, хотя он добавлен в `requirements.txt`.

## Решение
Нужно пересобрать Docker образ на сервере, где запущен контейнер.

## Шаги для пересборки:

### 1. Подключитесь к серверу
```bash
ssh user@your-server
# или используйте другой способ доступа к серверу
```

### 2. Перейдите в директорию проекта
```bash
cd /path/to/chess-online
# или туда, где находится ваш проект
```

### 3. Остановите контейнеры
```bash
docker-compose down
# или
docker compose down
```

### 4. Пересоберите образ без кэша
```bash
docker-compose build --no-cache
# или
docker compose build --no-cache
```

### 5. Запустите контейнеры
```bash
docker-compose up -d
# или
docker compose up -d
```

### 6. Проверьте логи
```bash
docker-compose logs -f
# или
docker compose logs -f
```

## Альтернативный способ (если есть доступ к файлам на сервере)

Если у вас есть доступ к файлам проекта на сервере через FTP/SFTP или панель управления:

1. Убедитесь, что `pytz==2024.1` есть в `backend/requirements.txt`
2. Перезапустите контейнер через панель управления или выполните:
   ```bash
   docker-compose restart
   # или
   docker compose restart
   ```

   **Примечание:** Простой перезапуск может не помочь, если образ не был пересобран. В этом случае нужна полная пересборка (шаги выше).

## Проверка после пересборки

После пересборки проверьте, что сервер запустился без ошибок:
- Проверьте логи: `docker-compose logs`
- Проверьте health endpoint: `curl http://your-server:8000/health`
- Убедитесь, что ошибка `ModuleNotFoundError: No module named 'pytz'` больше не появляется

